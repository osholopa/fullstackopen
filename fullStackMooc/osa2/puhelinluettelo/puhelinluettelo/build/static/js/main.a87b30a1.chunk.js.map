{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Numbers.js","components/Notification.js","index.js"],"names":["Filter","props","search","handleSearchInput","value","onChange","newPerson","axios","post","then","response","data","id","url","delete","put","PersonForm","persons","newName","newNumber","setNewName","setNewNumber","setPersons","handleNameInput","handleNumberInput","setMessage","onSubmit","event","preventDefault","found","forEach","person","name","nameObject","number","find","p","window","confirm","personService","returnedPerson","map","setTimeout","catch","error","console","log","filter","concat","type","Numbers","showAll","contactsToShow","includes","key","onClick","deletePerson","Notification","message","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","ReactDOM","render","useState","setSearch","setShowAll","useEffect","get","target","document","getElementById"],"mappings":"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","file":"static/js/main.a87b30a1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    const { search, handleSearchInput } = props\r\n    return (\r\n        <div>\r\n            filter shown with <input value={search} onChange={handleSearchInput} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from \"axios\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.delete(url)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.put(url, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { create, remove, update }\r\n","import React from \"react\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst PersonForm = props => {\r\n  const {\r\n    persons,\r\n    newName,\r\n    newNumber,\r\n    setNewName,\r\n    setNewNumber,\r\n    setPersons,\r\n    handleNameInput,\r\n    handleNumberInput,\r\n    setMessage\r\n  } = props;\r\n\r\n  const addName = event => {\r\n    event.preventDefault();\r\n    let found = false;\r\n    persons.forEach(person => {\r\n      if (newName === person.name) {\r\n        found = true;\r\n      }\r\n    });\r\n\r\n    let nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n\r\n    if (found) {\r\n      const person = persons.find(p => p.name === newName);\r\n      const id = person.id;\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        personService\r\n          .update(id, nameObject)\r\n          .then(returnedPerson => {\r\n            setPersons(\r\n              persons.map(person =>\r\n                person.id !== returnedPerson.id ? person : returnedPerson\r\n              )\r\n            );\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n            setMessage(`Updated ${returnedPerson.name}`);\r\n            setTimeout(() => setMessage([null, false]), 3000);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n            setMessage([\r\n              `Information of ${person.name} has been removed from the server`,\r\n              true\r\n            ]);\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n            setPersons(persons.filter(p => p.id !== id));\r\n            setTimeout(() => setMessage([null, false]), 3000);\r\n          });\r\n      }\r\n      return;\r\n    }\r\n\r\n    personService\r\n      .create(nameObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setMessage([`Added ${returnedPerson.name}`, false]);\r\n        setTimeout(() => setMessage([null, false]), 3000);\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Failed to add contact\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={addName}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameInput} />\r\n          <br />\r\n          number: <input value={newNumber} onChange={handleNumberInput} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst Numbers = props => {\r\n  const { persons, search, showAll, setPersons, setMessage } = props;\r\n\r\n  const contactsToShow = showAll\r\n    ? persons\r\n    : persons.filter(person => person.name.includes(search));\r\n\r\n  const deletePerson = person => {\r\n    const id = person.id;\r\n\r\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.filter(p => p.id !== id));\r\n          setMessage([`Successfully deleted ${person.name}`, false]);\r\n          setTimeout(() => setMessage([null, false]), 3000);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          setMessage([\r\n            `Information of ${person.name} has already been removed from the server`,\r\n            true\r\n          ]);\r\n          setPersons(persons.filter(p => p.id !== id));\r\n          setTimeout(() => setMessage([null, false]), 3000);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {contactsToShow.map(person => (\r\n        <div key={person.name}>\r\n          <p>\r\n            {person.name} {person.number}\r\n          </p>\r\n          <button onClick={() => deletePerson(person)}>Delete</button>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Numbers;\r\n","import React from 'react'\r\n\r\nconst Notification = ({message, setMessage}) => { \r\n    \r\n    const messageStyle = {\r\n        color: message[1] ? 'red' : 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if(message[0] == null) {\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <div style={messageStyle}>\r\n            {message[0]}\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Filter from \"./components/Filter\"\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport Numbers from \"./components/Numbers\"\r\nimport Notification from \"./components/Notification\"\r\nimport axios from \"axios\"\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState(\"\")\r\n  const [newNumber, setNewNumber] = useState(\"\")\r\n  const [search, setSearch] = useState(\"\")\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [message, setMessage] = useState([null, false])\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/persons\").then(response => {\r\n      setPersons(response.data)\r\n    })\r\n  }, [])\r\n\r\n  const handleNameInput = event => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberInput = event => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchInput = event => {\r\n    setSearch(event.target.value)\r\n    event.target.value === \"\" ? setShowAll(true) : setShowAll(false)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} setMessage={setMessage} />\r\n      <Filter search={search} handleSearchInput={handleSearchInput} />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        setNewName={setNewName}\r\n        setNewNumber={setNewNumber}\r\n        handleNumberInput={handleNumberInput}\r\n        handleNameInput={handleNameInput}\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        setMessage={setMessage}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Numbers\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        search={search}\r\n        showAll={showAll}\r\n        setMessage={setMessage}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))\r\n"],"sourceRoot":""}